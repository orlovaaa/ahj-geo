{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj/./src/js/AddMessage.js","webpack://ahj/./src/js/ErrorModal.js","webpack://ahj/./src/js/Tooltip.js","webpack://ahj/./src/js/DataForm.js","webpack://ahj/./src/js/app.js","webpack://ahj/./src/index.js"],"sourcesContent":["export default class AddMessage {\n\tconstructor() {\n\t  this.valueMessage = null;\n\t  this.date = new Date().toLocaleDateString('ru-RU');\n\t}\n\n\taddMessageInContainer(value) {\n\t  this.valueMessage = value;\n\n\t  const listItemUserMessage = document.createElement('div');\n\t  listItemUserMessage.classList.add('message-item');\n\n\t  const messageTime = document.createElement('div');\n\t  messageTime.classList.add('message-item__time');\n\n\t  messageTime.textContent = `${this.date} ${new Date().toLocaleTimeString('ru-RU').slice(0, -3)}`;\n\n\t  const messageText = document.createElement('div');\n\t  messageText.classList.add('message-item__text');\n\t  messageText.textContent = this.valueMessage;\n\n\t  const dataGeoPosition = document.createElement('div');\n\t  dataGeoPosition.classList.add('message-item__geo');\n\n\t  listItemUserMessage.appendChild(messageTime);\n\t  listItemUserMessage.appendChild(messageText);\n\t  listItemUserMessage.appendChild(dataGeoPosition);\n\n\t  const messageList = document.querySelector('.main__messages');\n\n\t  messageList.append(listItemUserMessage);\n\t}\n}\n","export default class ErrorModal {\n\tconstructor(text) {\n\t  this.text = text;\n\t  this.modalEl = null;\n\t}\n\n\tcreateModalError() {\n\t  const modalContainer = document.createElement('div');\n\t  modalContainer.classList.add('popup');\n\n\t  const contentModal = document.createElement('div');\n\t  contentModal.classList.add('popup__inner');\n\n\t  const textContainer = document.createElement('div');\n\t  textContainer.classList.add('popup__text');\n\t  textContainer.innerHTML = this.text;\n\n\t  const form = document.createElement('form');\n\t  form.classList.add('popup__form');\n\n\t  const enterData = document.createElement('input');\n\t  enterData.setAttribute('name', 'dataCoords');\n\t  enterData.classList.add('popup__position');\n\n\t  const buttonContainer = document.createElement('div');\n\t  buttonContainer.classList.add('popup__buttons');\n\n\t  const buttonOk = document.createElement('button');\n\t  buttonOk.classList.add('button', 'button-ok');\n\t  buttonOk.textContent = 'OK';\n\n\t  const buttonCancel = document.createElement('button');\n\t  buttonCancel.classList.add('button', 'button-cancel');\n\t  buttonCancel.textContent = 'Oтмена';\n\n\t  form.appendChild(enterData);\n\n\t  buttonContainer.appendChild(buttonCancel);\n\t  buttonContainer.appendChild(buttonOk);\n\n\t  contentModal.appendChild(textContainer);\n\t  contentModal.appendChild(form);\n\t  contentModal.appendChild(buttonContainer);\n\n\t  modalContainer.appendChild(contentModal);\n\n\t  const container = document.querySelector('.container');\n\t  container.appendChild(modalContainer);\n\t}\n\n\tshowModalError() {\n\t  this.createModalError();\n\t}\n\n\tcloseModalError(modal) {\n\t  this.modalEl = modal;\n\t  this.modalEl.remove();\n\t}\n}\n","export default class Tooltip {\n\tconstructor() {\n\t  this.text = '';\n\t}\n\n\tshowTooltip(text) {\n\t  this.text = text;\n\n\t  const errorContainer = document.createElement('div');\n\t  errorContainer.classList.add('error-container');\n\n\t  const dataText = document.createElement('p');\n\t  dataText.classList.add('text');\n\t  dataText.textContent = this.text;\n\n\t  errorContainer.appendChild(dataText);\n\n\t  const userCoords = document.querySelector('.popup__position');\n\t  userCoords.offsetParent.appendChild(errorContainer);\n\t}\n}\n","import AddMessage from './AddMessage';\nimport ErrorModal from './ErrorModal';\nimport Tooltip from './Tooltip';\n\nexport default class DataForm {\n\tconstructor(container) {\n\t\tif (typeof container === 'string') {\n\t\t\tthis.container = document.querySelector(container);\n\t\t} else {\n\t\t\tthis.container = container;\n\t\t}\n\n\t\tthis.error = '';\n\t\tthis.dataArray = null;\n\t\tthis.userMessage = null;\n\t\tthis.addMessage = new AddMessage();\n\n\t\tthis.showPosition = this.showPosition.bind(this);\n\t\tthis.getDataInput = this.getDataInput.bind(this);\n\t\tthis.handleErrorPosition = this.handleErrorPosition.bind(this);\n\t}\n\n\tshowPosition(position) {\n\t\tif (!position) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modal = document.querySelector('.popup');\n\n\t\tif (modal) {\n\t\t\tthis.error.closeModalError(modal);\n\t\t\tthis.userMessage.focus();\n\t\t}\n\n\t\tthis.addMessage.addMessageInContainer(this.message);\n\n\t\tconst { latitude } = position.coords;\n\t\tconst { longitude } = position.coords;\n\n\t\tconst dataGeoPosition = document.querySelectorAll('.message-item__geo');\n\n\t\tconst lastMessage = [...dataGeoPosition].pop();\n\n\t\tlastMessage.textContent = `[${latitude}, ${longitude}]`;\n\n\t\tconst messageValue = document.querySelector('.main__textarea');\n\t\tmessageValue.value = '';\n\t}\n\n\tcheckInput(data) {\n\t\tlet dataCoords = data.replace(/\\[|\\]/g, '');\n\n\t\tdataCoords = dataCoords.replace(/\\s/g, '');\n\t\tdataCoords = dataCoords.replace(/−/g, '-');\n\n\t\tthis.dataArray = dataCoords.split(',');\n\n\t\tif (this.dataArray.length > 2 || this.dataArray.length <= 1) {\n\t\t\tconst tooltip = new Tooltip();\n\n\t\t\ttooltip.showTooltip('Введите 2 значения');\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (const item of this.dataArray) {\n\t\t\tif (Number.isNaN(Number(item))) {\n\t\t\t\tconst tooltip = new Tooltip();\n\n\t\t\t\ttooltip.showTooltip('Введите цифры');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tconst latitude = this.dataArray[0];\n\t\tconst longitude = this.dataArray[1];\n\n\t\treturn {\n\t\t\tcoords:\n        {\n        \tlatitude,\n        \tlongitude,\n        },\n\t\t};\n\t}\n\n\tgetDataInput(e) {\n\t\te.preventDefault();\n\n\t\tconst data = e.target.closest('.popup__inner').querySelector('.popup__position').value;\n\t\tthis.showPosition(this.checkInput(data));\n\t}\n\n\thandleErrorPosition() {\n\t\tconst self = this;\n\n\t\tconst modal = document.querySelector('.popup');\n\t\tif (modal) {\n\t\t\treturn;\n\t\t}\n\t\tconst text = `<p>Что-то пошло не так</p><p>К сожалению, нам не удалось определить Ваше местоположение, пожалуйста,\nдайте разрешение на использование геолокации, либо введите координаты вручную</p><p>Широта и долгота через запятую</p>`;\n\n\t\tthis.error = new ErrorModal(text);\n\t\tthis.error.showModalError();\n\n\t\tconst butOK = document.querySelector('.button-ok');\n\t\tconst butCancel = document.querySelector('.button-cancel');\n\n\t\tconst dataCoords = document.querySelector('.popup__position');\n\n\t\tdataCoords.focus();\n\n\t\tdataCoords.addEventListener('keydown', (e) => {\n\t\t\tconst tooltipMessage = document.querySelector('.error-container');\n\n\t\t\tif (tooltipMessage) {\n\t\t\t\ttooltipMessage.remove();\n\t\t\t}\n\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.getDataInput(e);\n\t\t\t}\n\t\t});\n\n\t\tbutOK.addEventListener('click', self.getDataInput);\n\n\t\tbutCancel.addEventListener('click', () => {\n\t\t\tconst modalContainer = document.querySelector('.popup');\n\n\t\t\tif (modalContainer) {\n\t\t\t\tthis.error.closeModalError(modalContainer);\n\t\t\t\tthis.userMessage.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.userMessage = this.container.querySelector('.main__textarea');\n\n\t\tthis.userMessage.focus();\n\t\tthis.userMessage.addEventListener('keydown', (e) => {\n\t\t\tif (e.key !== 'Enter') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { geolocation } = navigator;\n\n\t\t\tif (geolocation && e.target.value.trim() !== '') {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.message = e.target.value;\n\n\t\t\t\tgeolocation.getCurrentPosition(this.showPosition, this.handleErrorPosition);\n\t\t\t}\n\t\t});\n\t}\n}\n","import DataForm from './DataForm';\n\nconst container = document.querySelector('.main__inner');\nconst dataForm = new DataForm(container);\n\ndataForm.init();\n","import './css/style.css';\nimport './js/app';\n"],"names":["AddMessage","constructor","valueMessage","date","Date","toLocaleDateString","addMessageInContainer","value","listItemUserMessage","document","createElement","classList","add","messageTime","textContent","toLocaleTimeString","slice","messageText","dataGeoPosition","appendChild","messageList","querySelector","append","ErrorModal","text","modalEl","createModalError","modalContainer","contentModal","textContainer","innerHTML","form","enterData","setAttribute","buttonContainer","buttonOk","buttonCancel","container","showModalError","closeModalError","modal","remove","Tooltip","showTooltip","errorContainer","dataText","userCoords","offsetParent","DataForm","error","dataArray","userMessage","addMessage","showPosition","bind","getDataInput","handleErrorPosition","position","focus","message","latitude","coords","longitude","querySelectorAll","lastMessage","pop","messageValue","checkInput","data","dataCoords","replace","split","length","tooltip","item","Number","isNaN","e","preventDefault","target","closest","self","butOK","butCancel","addEventListener","tooltipMessage","key","init","geolocation","navigator","trim","getCurrentPosition","dataForm"],"sourceRoot":""}